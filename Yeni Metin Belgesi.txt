; dosya olusturakim, acalim, yazalim ve kapatalim
.model small
.data
    yol db "C:\esra.txt",00H
    dno dw ?  
    basarili1 db "Dosya olusturuldu...",13,10,"$" 
    basarili2 db "Dosya acildi...",13,10,"$"  
    basarili3 db "Dosyaya yazildi...",13,10,"$"  
    basarili4 db "Dosya kapatildi...",13,10,"$" 
    bilgi db "Dosyaya yazilacak ifadeyi giriniz...",13,10,"$" 
    mes1 db "Dosya olusturulamadi...",13,10,"$" 
    mes2 db "Dosya acilamadi...",13,10,"$"
    mes3 db "Dosyaya yazilamadi...",13,10,"$"
    yaz db 10 dup (00)
.code
    mov ax,@data
    mov ds,ax
    
    ;dosyayi olusturalim
    mov ah,3ch
    lea dx, yol
    mov cx,00;normal turde dosya olusturuldu
    int 21h
    jc err1 ;dosya olusturulamadi ise CF=1 olur bu durumda err etketine git
    mov dno,ax;dosya olusturuldu ise filehandle noyu AX den dno ya al
    mov ah,09h ; dosya olusturulmus ise buradan devam edili ve ekrana 
    lea dx,basarili1 ;Dosya olusturuldu diye yaz
    int 21h
    
    ;dosyayi acalim
    mov ah,3dh
    lea dx,yol
    mov al,01;dosyayi yazmak icin ac
    int 21h
    jc err2
    mov dno,ax; dosya hatasiz bir sekilde acildi ise filehandle AX den dno da
    mov ah,09h ; dosya olusturulmus ise buradan devam edili ve ekrana 
    lea dx,basarili2 ;Dosya acildi diye yaz
    int 21h
    ;klavyeden veri girisi yapilacak
    ;ekrana kullaniciyi bilgilendirmek icin mesaj yaz 
    mov ah,09h ; dosya olusturulmus ise buradan devam edili ve ekrana 
    lea dx,bilgi ;Dosya olusturuldu diye yaz
    int 21h
    ;simdi klavyeden veri al
    mov cx,0010;klavyeden alinacak veri adedi kadar sayac
    lea si,yaz;DS:SI-->yaz[0]
giris:mov ah,01h
    int 21h;klavyeden basilan tusun ASCII kodu AL de
    mov [si],al 
    inc si
    loop giris
    
    
    ;dosyaya yazalim
    mov ah,40h
    mov cx,0010;dosyaya yazilacak ifadenin boyutu
    lea dx,yaz; yazilacak ifadenin ekin adresi DX de
    mov bx,dno
    int 21h
    jc err3;dosyaya yazmada hata var ise err3 etiketine git
mov dno,ax; dosya hatasiz bir sekilde acildi ise filehandle AX den dno da
    mov ah,09h ; dosyaya yazilmis ise buradan devam edilir ve ekrana 
    lea dx,basarili3 ;Dosyaya yazildi diye yaz
    int 21h
    
    ;dosyayi kapatalim
    mov ah,3eh ;3ch'ti acmaydi simdi kapatma oldu
    mov bx,dno
    int 21h 
    mov ah,09h  
    lea dx,basarili4 ;Dosya kapatildi diye yaz
    int 21h
     
    jmp cik
err1:mov ah,09h ; ve ekrana 
    lea dx,mes1 ;Dosya olusturulamadi... diye yaz
    int 21h 
err2:mov ah,09h ; ve ekrana 
    lea dx,mes2 ;Dosya acilamadi... diye yaz
    int 21h  
err3:mov ah,09h ; ve ekrana 
    lea dx,mes3 ;Dosyaya yazilamadi... diye yaz
    int 21h    
cik:mov ah,4ch
    int 21h
    end

----------------------------------------------------------------------------

SÄ°STEM PROGRAMLAMA DERSÄ° ALIÅžTIRMA


1. TanÄ±mlanan bir dizi iÃ§erisinde, klavyeden girilen bir harfi arayan programÄ± yazÄ±nÄ±z.


ORG 0100H

.MODEL SMALL

.STACK

.DATA

LISTE DB 4,'A','B','C','D'Â Â Â Â 

MESAJ DB "HARF:$"Â Â 


BULUNDUMESAJ DB "HARF DIZIDE BULUNUYOR:$"Â Â 

BULUNAMADIMESAJ DB "HARF DIZININ ICINDE BULUNAMADI:$"

ALTAGEC DB 0AH,0DH,24H

.CODE

MAIN PROC

Â Â Â Â CALL SOR

ENDP

SOR PROC

Â Â Â Â LEA DX,MESAJ

Â Â Â Â MOV AH,9

Â Â Â Â INT 21HÂ 

Â Â Â Â MOV AH,01

Â Â Â Â INT 21H

Â Â Â Â CALL DONGU

ENDP

DONGU PROC SIFIRLA:

Â Â Â Â MOV CX,0

Â Â Â Â MOV BH,4

Â Â Â Â DENE:

Â Â Â Â MOV SI,CX

Â Â Â Â MOV BL,LISTE[SI]

Â Â Â Â ADD BL,30H

Â Â Â Â CMP BL,AL

Â Â Â Â JNE TARA

Â Â Â Â JMP BULUNDU

Â Â Â Â TARA:

Â Â Â Â DEC BH

Â Â Â Â CMP BH,0

Â Â Â Â JE BULUNAMADI

Â Â Â Â INC CX

Â Â Â Â JMP DENE

Â Â Â Â 

Â Â Â Â BULUNDU:LEA DX,ALTAGEC

Â Â Â Â MOV AH,9

Â Â Â Â INT 21HÂ 

Â Â Â Â 

Â Â Â Â LEA DX,BULUNDUMESAJ

Â Â Â Â MOV AH,9

Â Â Â Â INT 21H

Â Â Â Â JMP BITIRÂ 

Â Â Â Â 

Â Â Â Â BULUNAMADI:

Â Â Â Â LEA DX,ALTAGEC

Â Â Â Â MOV AH,9

Â Â Â Â INT 21H

Â Â Â Â 

Â Â Â LEA DX,BULUNAMADIMESAJ

Â Â Â MOV AH,9

Â Â Â INT 21H

Â Â Â JMP BITIR

Â Â Â BITIR:

Â Â Â ENDP END MAIN

Â -------------------------------------------------------------------------------------------------------
SÄ°STEM PROGRAMLAMA DERSÄ° ALIÅžTIRMA



Kendi adÄ±nÄ±zÄ± ÅŸifreleyen ve yÄ±ÄŸÄ±n Ã¼zerinden veri segmentinden ekstra segmente taÅŸÄ±yan programÄ± Assembly dili ile yazÄ±nÄ±z.Â 

Åžifreleme, addaki her bir harfin ASCII koduna, bu elemanÄ±n ad iÃ§indeki indis deÄŸeri eklenerek gerÃ§ekleÅŸtirilecektir. Ã–rneÄŸin;

Dizi db â€˜eâ€™, â€˜sâ€™, â€˜râ€™, â€˜aâ€™ Â  Â  harf dizisi iÃ§in ÅŸifreleme:

Â Â Â  Â Â Â  ASCII (e) + 0 = 101 + 0 = 101ðŸ¡ª e

Â Â Â  Â Â Â  ASCII (s) + 1 = 115 + 1 = 116ðŸ¡ª t

ASCII (r) + 2 = 114 + 2 = 116ðŸ¡ª t

Â Â Â  Â Â Â  ASCII (a) + 3 = Â  97 + 3 = 100ðŸ¡ª d

olmaktadÄ±r.

Â Â Â  NOT:

Karakter deÄŸiÅŸkenler tanÄ±mlandÄ±klarÄ±nda, ilgili bellek kÄ±smÄ±nda ASCII kodlarÄ±nÄ±n HEX olarak tutulduÄŸunu unutmayÄ±nÄ±z.Â 

AdÄ±nÄ±zdaki TÃ¼rkÃ§e karakterler yerine Ä°ngilizce karakterleri kullanÄ±nÄ±z.

.model small

Â Â Â Â  .data

Â Â Â Â Â Â Â Â Â Â  Â Â Â  dizi db 'e','s','r','a'

Â .code

Â Â Â Â Â Â Â Â Â Â  Â Â Â  mov ax,@data

Â Â Â Â Â Â Â Â Â Â  Â Â Â  mov ds,ax

Â Â Â Â Â Â Â Â Â Â  Â Â Â  lea bx,dizi

Â Â Â Â Â Â Â Â Â Â  Â Â Â  mov cx,04

Â Â Â Â 

sifrele:Â Â Â  mov ax,bx

Â Â Â Â Â Â Â Â Â Â  Â Â Â  add [bx],al

Â Â Â Â Â Â Â Â Â Â Â  Â  Â Â Â  inc bx

Â Â Â Â Â Â Â Â Â Â  Â Â Â  loop sifrele

Â Â Â Â 

Â Â Â Â Â Â Â Â Â Â Â  Â Â Â  mov cx,04

Â Â Â Â Â Â Â Â Â Â  Â Â Â  lea bx,dizi

Â Â Â Â 

devam: push ds:[bx]

Â Â Â Â Â Â Â Â Â Â  Â Â Â  pop es:[di]

Â Â Â Â Â Â Â Â Â Â Â  Â Â Â  inc bx

Â Â Â Â Â Â Â Â Â Â  Â Â Â  inc di

Â Â Â Â Â Â Â Â Â Â  Â Â Â  loop devamÂ 

Â Â Â Â Â Â Â Â Â Â  Â Â Â  

mov ah,4ch

Â Â Â Â Â Â Â Â Â Â  Â Â Â  int 21h

Â Â Â Â Â Â Â Â Â Â  Â Â Â  end
------------------------------------------------------------------------------------------------------